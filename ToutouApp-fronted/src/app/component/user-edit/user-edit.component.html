<app-header></app-header>

<div class="margin">
  <!-- Notification Section -->
  <div *ngIf="notification" class="toast-container position-fixed top-0 end-0 p-3">
    <div
      class="toast show"
      [ngClass]="{
        'text-bg-success': notification.type === 'success',
        'text-bg-danger': notification.type === 'error'
      }"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="toast-body">
        {{ notification.message }}
      </div>
    </div>
  </div>

  <!-- User Edit Form -->
  <h2 class="user-management-title">Edit User</h2>
  <form [formGroup]="userForm" (ngSubmit)="onSave()">
    <div>
      <label for="firstName">First Name</label>
      <input id="firstName" formControlName="firstName" />
      <div *ngIf="isInvalid('firstName')">
        <small>{{ getErrorMessage('firstName') }}</small>
      </div>
    </div>

    <div>
      <label for="lastName">Last Name</label>
      <input id="lastName" formControlName="lastName" />
      <div *ngIf="isInvalid('lastName')">
        <small>{{ getErrorMessage('lastName') }}</small>
      </div>
    </div>

    <div>
      <label for="mail">Email</label>
      <input id="mail" formControlName="mail"/>
    </div>

    <div>
      <label for="country">Country</label>
      <input id="country" formControlName="country" />
      <div *ngIf="isInvalid('country')">
        <small>{{ getErrorMessage('country') }}</small>
      </div>
    </div>

    <div>
      <label for="city">City</label>
      <input id="city" formControlName="city" />
      <div *ngIf="isInvalid('city')">
        <small>{{ getErrorMessage('city') }}</small>
      </div>
    </div>

    <div>
      <label for="street">Street</label>
      <input id="street" formControlName="street" />
      <div *ngIf="isInvalid('street')">
        <small>{{ getErrorMessage('street') }}</small>
      </div>
    </div>

    <div>
      <label for="postalCode">Postal Code</label>
      <input id="postalCode" formControlName="postalCode" />
      <div *ngIf="isInvalid('postalCode')">
        <small>{{ getErrorMessage('postalCode') }}</small>
      </div>
    </div>

    <div>
      <button type="submit" [disabled]="userForm.invalid">Save</button>
      <button type="button" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>

<app-footer></app-footer>
