<div *ngIf="isLoading" class="loading">
  Loading users...
</div>

<table *ngIf="!isLoading && users.length > 0" class="user-table">
  <thead>
    <tr>
      <th>Email</th>
      <th>Last Name</th>
      <th>First Name</th>
      <th>Country</th>
      <th>City</th>
      <th>Role</th>
      <th>Status and Action</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of users">
      <td>{{ user.mail }}</td>
      <td>{{ user.lastName }}</td>
      <td>{{ user.firstName }}</td>
      <td>{{ user.country }}</td>
      <td>{{ user.city }}</td>
      <td>{{ user.role.name }}</td>
      <td>
        <span *ngIf="user.blocked" class="blocked">Blocked</span>
        <span *ngIf="!user.blocked" class="active">Active</span>
        <br />
        <input
          type="checkbox"
          [checked]="user.blocked"
          (change)="onToggleBlock(user, $event)"
        />
        <label for="blockToggle">Change status</label>
      </td>
      <td>
        <button (click)="onEditUser(user)">Edit</button>
        <button (click)="onDeleteUser(user)">Delete</button>
      </td>
    </tr>
  </tbody>
</table>

<div *ngIf="!isLoading && users.length === 0" class="no-users">
  No users found.
</div>
